!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.fs=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("JkpR2F"))},{JkpR2F:2}],2:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],3:[function(a,b,c){"use strict";var d=a("./utils"),e=a("path"),f=a("./fileSystem"),g=d.wrapSuccess,h=d.wrapFail;c.getFsInstance=f.getInstance,c.appendFile=function(a,b,c){f.writeFile(a,b,c,!0)},c.writeFile=function(a,b,c){f.writeFile(a,b,c,!1)},c.readFile=function(a,b,c){"function"==typeof b&&(c=b,b={encoding:"utf8"});var d=g(c),e=h(c);f.getFile(a,function(a,c){c.file(function(a){var c=new FileReader;c.onloadend=function(a){d(a.target.result)},c.onerror=function(a){e(a)},"utf8"===b.encoding?c.readAsText(a):c.readAsDataURL(a)},e)})},c.unlink=function(a,b){var c=g(b),d=h(b);f.getFile(a,function(a,b){a?d(a):b.remove(c,d)})},c.readdir=function(a,b){var c=g(b),d=h(b);f.getDirectory(a,function(a,b){if(a)d(a);else{var e=b.createReader();e.readEntries(c,d)}})},c.mkdir=function(a,b){var c=e.basename(a),g=e.dirname(a),h=d.wrapSuccess(b),i=d.wrapFail(b),j={create:!0,exclusive:!0};"."===g?f.getDirectory(c,j,b):f.getDirectory(g,function(a,d){a?b(a,null):d.getDirectory(c,j,h,i)})},c.rmdir=function(a,b){var c=g(b),d=h(b);this.readdir(a,function(b,e){b?d(b):e&&e.length>0?d("ENOTEMPTY: Directory must be empty"):f.getDirectory(a,function(a,b){a?d(a):b.remove(c,d)})})},c.exists=function(a,b){var c=g(b),d=h(b);f.getFile(a,{create:!1},function(a){a&&1===a.code?c(!1):a?d(a):c(!0)})},c.stat=function(a,b){var c=g(b),e=h(b),i=f.getFile;d.isDirectory(a)&&(i=f.getDirectory),i(a,function(a,b){a?e(a):b.getMetadata(c,e)})},c.init=function(a,b){f.init(a,function(a){a?b(a,null):f.getInstance(function(a){b(a,null)})})}},{"./fileSystem":4,"./utils":5,path:1}],4:[function(a,b,c){"use strict";function d(a,b,c){window.navigator.webkitRequestFileSystem?window.navigator.webkitRequestFileSystem(a,b,c):window.requestFileSystem?window.requestFileSystem(window.LocalFileSystem.PERSISTENT,a,b,c):window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.PERSISTENT_FLAG,a,b,c):c("NO_SUPPORT")}function e(a,b){function c(a){b(null,a)}function d(a){b(a,null)}a=a||h,navigator.webkitPersistentStorage&&navigator.webkitPersistentStorage.requestQuota?navigator.webkitPersistentStorage.requestQuota(a,c,d):window.webkitStorageInfo&&window.webkitStorageInfo.requestQuota?window.webkitStorageInfo.requestQuota(window.PERSISTENT,a,c,d):window.requestFileSystem?(f.isPhoneGap()===!0&&(a=0),c(a)):d("NO_SUPPORT")}var f=a("./utils"),g=a("path"),h=10485760,i=null;c.getInstance=function(a){i?a(null,i):j(null,a)};var j=c.init=function(a,b){e(a,function(a,c){return a?b(a,null):void d(c,function(a){i=a,b(null,c)},function(a){b(a,null)})})};c.writeFile=function(a,b,c,d){var e=f.wrapFail(c),g=f.wrapSuccess(c);this.getFile(a,{create:!0,exclusive:!1},function(a,h){return a?c(a,null):void h.createWriter(function(a){a.onwrite=function(){g(h.toURL())},a.onerror=function(a){e(a.target.error)},d===!0&&a.seek(a.length),a.write(f.isMobile()?b:new Blob([b],{type:"text/plain"}))},e)})},c.getDirectory=function(a,b,c){c||(c=b,b={create:!1});var d=f.wrapSuccess(c),e=f.wrapFail(c);i.root.getDirectory(a,b,d,e)},c.getFile=function(a,b,c){function d(a){a.getFile(e,b,j,k)}c||(c=b,b={create:!1});var e=g.basename(a),h=g.dirname(a),j=f.wrapSuccess(c),k=f.wrapFail(c);"."===h?d(i.root):this.getDirectory(h,function(a,b){a?c(a,null):d(b)})}},{"./utils":5,path:1}],5:[function(a,b,c){"use strict";c.isMobile=function(){var a=window.navigator.userAgent;return null!==a.match(/Android|iPad|iPhone|iPod|Windows Phone/)},c.isPhoneGap=function(){var a=window.location.protocol;return this.isMobile()&&-1!==a.indexOf("file")},c.supportsFileSystem=function(){return this.isPhoneGap()===!0?!0:window.navigator.userAgent.match(/Chrome|Opera/)},c.wrapSuccess=function(a){return function(){var b=[null].concat(Array.prototype.slice.call(arguments));a.apply(a,b)}},c.wrapFail=function(a){return function(){var b=Array.prototype.slice.call(arguments),c=b[0];a.apply(a,[c,null])}},c.isDirectory=function(a){return a.lastIndexOf("/")===a.length-1}},{}]},{},[3])(3)});